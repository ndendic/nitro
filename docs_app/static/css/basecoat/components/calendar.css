@layer components {
    /* Calendar container */
    .calendar {
        @apply rounded-md border border-border bg-background w-fit;
    }

    /* Calendar header */
    .calendar-header {
        @apply px-3 py-2 border-b border-border text-center;
    }

    .calendar-title {
        @apply text-sm font-semibold text-foreground;
    }

    /* Calendar grid */
    .calendar-grid {
        @apply grid grid-cols-7 gap-0.5 px-2 pb-2;
    }

    /* Weekday headers */
    .calendar-head-cell {
        @apply text-muted-foreground text-xs font-medium text-center w-8 py-1.5;
    }

    /* First calendar-grid (weekday headers) needs top padding */
    .calendar > .calendar-grid:first-of-type {
        @apply pt-2;
    }

    /* Day cells */
    .calendar-day {
        @apply inline-flex items-center justify-center w-8 h-8
               text-sm font-normal rounded-md
               transition-colors duration-200
               hover:bg-accent hover:text-accent-foreground
               focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2
               disabled:pointer-events-none disabled:opacity-50;
    }

    /* Today */
    .calendar-day[data-today="true"] {
        @apply bg-accent text-accent-foreground;
    }

    /* Selected date - supports both data attribute and class for reactive binding */
    .calendar-day[data-selected="true"],
    .calendar-day.selected {
        @apply bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground;
    }

    /* Outside current month */
    .calendar-day[data-outside-month="true"] {
        @apply text-muted-foreground opacity-50;
    }

    /* Disabled dates */
    .calendar-day[data-disabled="true"] {
        @apply text-muted-foreground opacity-30 cursor-not-allowed;
    }

    /* Dark mode adjustments */
    .dark .calendar-day[data-today="true"] {
        @apply bg-accent/80;
    }

    /* Popover styling for calendar - remove default popover padding */
    [data-popover]:has(.calendar) {
        @apply p-0;
    }
}
